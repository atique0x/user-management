<form [formGroup]="userForm" (ngSubmit)="onUserFormSubmit()" class="user-form">
  <!-- Header -->
  <h2>{{ isUpdateMode ? "Update" : "Add" }} User Information</h2>

  <!-- Name -->
  <div class="form-group">
    <label for="name">Name <span class="required">*</span></label>
    <input type="text" formControlName="name" id="name" placeholder="Enter full name" />
    <p class="error" *ngIf="userForm.get('name')?.touched && userForm.get('name')?.invalid">
      <span *ngIf="userForm.get('name')?.errors?.['required']">Name is required.</span>
      <span *ngIf="userForm.get('name')?.errors?.['minlength']">Name must be at least 3 characters.</span>
    </p>
  </div>

  <!-- Email -->
  <div class="form-group">
    <label for="email">Email <span class="required">*</span></label>
    <input type="email" formControlName="email" id="email" placeholder="Enter email address" />
    <p class="error" *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid">
      <span *ngIf="userForm.get('email')?.errors?.['required']">Email is required.</span>
      <span *ngIf="userForm.get('email')?.errors?.['email']">Please provide a valid email.</span>
      <span *ngIf="userForm.get('email')?.errors?.['emailTaken']">Email already exists, provide another.</span>
    </p>
  </div>

  <!-- Phone -->
  <div class="form-group">
    <label for="phone">Phone <span class="required">*</span></label>
    <input type="text" formControlName="phone" id="phone" placeholder="01XXXXXXXXX" />
    <p class="error" *ngIf="userForm.get('phone')?.touched && userForm.get('phone')?.invalid">
      <span *ngIf="userForm.get('phone')?.errors?.['required']">Phone number is required.</span>
      <span *ngIf="userForm.get('phone')?.errors?.['pattern']">Provide a valid phone number (01XXXXXXXXX).</span>
    </p>
  </div>

  <!-- Date of Birth -->
  <div class="form-group">
    <label for="dob">Date of Birth <span class="required">*</span></label>
    <input type="date" formControlName="dob" id="dob" />
    <p class="error" *ngIf="userForm.get('dob')?.touched && userForm.get('dob')?.invalid">
      Date of Birth is required.
    </p>
  </div>

  <!-- Address -->
  <div class="form-group">
    <label for="address">Address <span class="required">*</span></label>
    <input type="text" formControlName="address" id="address" placeholder="Enter address" />
    <p class="error" *ngIf="
        userForm.get('address')?.touched && userForm.get('address')?.invalid
      ">
      <span *ngIf="userForm.get('address')?.errors?.['required']">Address is required.</span>
      <span *ngIf="userForm.get('address')?.errors?.['minlength']">Address must be at least 3 characters.</span>
    </p>
  </div>

  <!-- User Role -->
  <div class="form-group">
    <label>User Role <span class="required">*</span></label>
    <div class="radio-group">
      <label *ngFor="let role of roles">
        <input type="radio" formControlName="role" [value]="role" />
        <span>{{ role | titlecase }}</span>
      </label>
    </div>
  </div>

  <!-- Submit Button -->
  <div class="form-group">
    <button type="submit" [disabled]="userForm.invalid">
      {{ isUpdateMode ? "Update User" : "Add User" }}
    </button>
    <br>
    <br>
    <button type="button" (click)="cancelAddUser()">
      Cancel
    </button>
  </div>
</form>